(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{54:function(e,t,n){},56:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),r=n.n(c),i=n(12),s=n.n(i),o=(n(54),n(22)),l=(n(55),n(56),n(13)),j=n(85),u=n.p+"static/media/movie.8ead54c2.jpg";var d=function(e){var t=e.type,n=e.title,c=e.imdbID,r=e.poster,i=e.year;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(j.a,{className:"mt-3",style:{width:"18rem"},children:[Object(a.jsx)(j.a.Img,{variant:"top",src:"N/A"===r?u:r}),Object(a.jsxs)(j.a.Body,{children:[Object(a.jsxs)(j.a.Title,{children:["Title: ",n]}),Object(a.jsxs)(j.a.Text,{children:[Object(a.jsxs)("div",{className:"year",children:["Year: ",i]}),Object(a.jsxs)("div",{className:"imdbID",children:["imdbID: ",c]}),Object(a.jsxs)("div",{className:"type",children:["Type: ",t]})]})]})]})})},b=n(83),O=n(84),h=n(44),m="GET_SEARCH_RESULT",p="SET_CURRENT_PAGE",x=n(41),v=n.n(x).a.create({baseURL:"https://www.omdbapi.com"}),f="8523cbb8",g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t)return v.get("/?i=tt3896198&apikey=".concat(f,"&s=").concat(e,"&page=").concat(t)).then((function(e){return e.data}))},y=function(e,t){return function(n){g(e,t).then((function(e){"True"===e.Response&&n({type:m,payload:e})}))}},S=function(e){var t=e.userRequest,n=e.setuserRequest,i=e.currentPage,s=Object(l.b)(),o=r.a.createRef();return Object(c.useEffect)((function(){var e=o.current.value;s(y(e,i))}),[i]),Object(a.jsx)("header",{className:"header",children:Object(a.jsxs)(b.a,{bg:"light",expand:"lg",children:[Object(a.jsx)(b.a.Brand,{href:"#home",children:"Movie catalog"}),Object(a.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(b.a.Collapse,{id:"basic-navbar-nav",children:Object(a.jsx)(O.a,{inline:!0,children:Object(a.jsx)(h.a,{onChange:function(){var e=o.current.value;n(e),s(y(e,i))},value:t,ref:o,type:"text",placeholder:"Search",className:"mr-sm-2"})})}),Object(a.jsx)("div",{className:"userInfo",children:"Alexander Borisenko"})]})})},C=n(15);var N=function(e){for(var t=e.totalCount,n=e.currentPage,r=e.pageSize,i=e.portionSize,s=Object(l.b)(),j=Math.ceil(t/r),u=[],d=1;d<=j;d++)u.push(d);var b=Math.ceil(j/i),O=Object(c.useState)(1),h=Object(o.a)(O,2),m=h[0],x=h[1],v=(m-1)*i+1,f=m*i,g=u.filter((function(e){return v<=e&&e<=f})).map((function(e){return Object(a.jsx)(C.a.Item,{onClick:function(){return y(e)},className:e===n&&"active",children:e},e)})),y=function(e){s(function(e){return{type:p,payload:e}}(e))};return Object(a.jsx)("div",{children:Object(a.jsxs)(C.a,{children:[Object(a.jsx)(C.a.First,{onClick:function(){return x(1)}}),Object(a.jsx)(C.a.Prev,{disabled:1===m,onClick:function(){return x(m-1)}}),g,Object(a.jsx)(C.a.Next,{disabled:m===b,onClick:function(){return x(m+1)}}),Object(a.jsx)(C.a.Last,{onClick:function(){return x(b)}})]})})};var T=function(){var e=Object(l.c)((function(e){return e.movies})),t=e.movies,n=e.totalCount,r=e.currentPage,i=e.pageSize,s=e.portionSize,j=t.map((function(e){return Object(a.jsx)(d,{title:e.Title,imdbID:e.imdbID,type:e.Type,poster:e.Poster,year:e.Year},e.imdbID)})),u=Object(c.useState)(""),b=Object(o.a)(u,2),O=b[0],h=b[1];return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(S,{currentPage:r,userRequest:O,setuserRequest:h}),O?Object(a.jsx)("div",{className:"container resultText mt-5 mb-5",children:Object(a.jsxs)("h2",{children:["You searched for: ",O,", ",n," results found"]})}):Object(a.jsx)("div",{className:"container resultText mt-5 mb-5",children:Object(a.jsx)("h2",{children:"Input your request in search"})}),Object(a.jsx)("div",{className:"paginatorContainer mt-3",children:0===j.length?"":Object(a.jsx)(N,{className:"container",totalCount:n,currentPage:r,pageSize:i,portionSize:s})}),Object(a.jsx)("div",{className:"cardsContainer container mt-5 mb-4",children:j}),Object(a.jsx)("div",{className:"paginatorContainer mt-3",children:0===j.length?"":Object(a.jsx)(N,{className:"container mt-5",totalCount:n,currentPage:r,pageSize:i,portionSize:s})})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},R=n(46),E=n(11),I=n(45),_=n(47),z=n(17),k={movies:[],userRequest:"",totalCount:0,currentPage:1,pageSize:10,portionSize:10},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload.Search&&t.payload.Search.length>0?Object(z.a)(Object(z.a)({},e),{},{movies:Object(_.a)(t.payload.Search),totalCount:t.payload.totalResults}):Object(z.a)({},e);case p:return Object(z.a)(Object(z.a)({},e),{},{currentPage:t.payload});default:return e}},D=Object(E.c)({movies:w}),q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.d,F=Object(E.e)(D,q(Object(E.d)(Object(E.a)(I.a))));s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(R.a,{children:Object(a.jsx)(l.a,{store:F,children:Object(a.jsx)(T,{})})})}),document.getElementById("root")),P()}},[[81,1,2]]]);
//# sourceMappingURL=main.98e7e51e.chunk.js.map